#!/usr/bin/env node
'use strict';const a22_0x4011c0=a22_0x4d11;(function(_0x39cba8,_0x1873d2){const _0x242e5e=a22_0x4d11,_0x4ff7d2=_0x39cba8();while(!![]){try{const _0x2349d5=parseInt(_0x242e5e(0x12e))/0x1+parseInt(_0x242e5e(0x10a))/0x2*(-parseInt(_0x242e5e(0x13d))/0x3)+-parseInt(_0x242e5e(0x141))/0x4+-parseInt(_0x242e5e(0x162))/0x5+parseInt(_0x242e5e(0x133))/0x6*(parseInt(_0x242e5e(0x15c))/0x7)+parseInt(_0x242e5e(0x10d))/0x8+-parseInt(_0x242e5e(0x116))/0x9*(parseInt(_0x242e5e(0xfe))/0xa);if(_0x2349d5===_0x1873d2)break;else _0x4ff7d2['push'](_0x4ff7d2['shift']());}catch(_0x235d67){_0x4ff7d2['push'](_0x4ff7d2['shift']());}}}(a22_0x5228,0x86362));function a22_0x4d11(_0x4a0cca,_0x3102f9){const _0x522815=a22_0x5228();return a22_0x4d11=function(_0x4d115d,_0x296896){_0x4d115d=_0x4d115d-0xed;let _0x2b027e=_0x522815[_0x4d115d];return _0x2b027e;},a22_0x4d11(_0x4a0cca,_0x3102f9);}const fs=require('fs'),path=require(a22_0x4011c0(0x10f)),{spawn}=require(a22_0x4011c0(0x106)),logger=require(a22_0x4011c0(0x103))['winstonLogger'],{default:BrowserStackSetup}=require(a22_0x4011c0(0x115)),helper=require('../../helpers/helper'),constants=require('../utils/constants'),getUserNightwatchConfigs=(_0x164cb8,_0x53ce5a)=>{const _0x25ef4b=a22_0x4011c0,_0x19bc20={'SHgUs':function(_0xf8794f,_0x2b3557){return _0xf8794f(_0x2b3557);},'OVkSk':'Couldn\x27t\x20find\x20any\x20config\x20file.\x20Generating\x20new\x20config\x20file','mzEPb':'nightwatch.json','ooFJu':function(_0x4be69f,_0xde318e){return _0x4be69f+_0xde318e;},'IUtiD':_0x25ef4b(0x134),'Zeuha':function(_0x2c341c,_0x148d2e){return _0x2c341c!==_0x148d2e;},'eJUGP':_0x25ef4b(0xfa),'OCVFV':_0x25ef4b(0x127),'GRpSJ':_0x25ef4b(0x14f),'zuiml':_0x25ef4b(0x142),'gslae':_0x25ef4b(0x125),'MXyBk':'aGkBv','QjjCc':_0x25ef4b(0x109),'NMYtU':_0x25ef4b(0x15e),'cgASK':_0x25ef4b(0x102),'zPJjx':function(_0x5e7386,_0x28e601){return _0x5e7386(_0x28e601);},'VwHbK':_0x25ef4b(0x143),'JtCAo':_0x25ef4b(0x135)};let _0xb344fb=null,_0x4010af={};const _0x489a30=_0x53ce5a[_0x25ef4b(0x112)](_0x2b0b7f=>_0x2b0b7f==_0x25ef4b(0x15a));if(!helper[_0x25ef4b(0x145)](_0x164cb8[_0x25ef4b(0xf8)])&&fs[_0x25ef4b(0x121)](path[_0x25ef4b(0x137)](process['cwd'](),_0x164cb8[_0x25ef4b(0xf8)])))_0x19bc20[_0x25ef4b(0xf3)](_0x19bc20[_0x25ef4b(0x144)],_0x19bc20[_0x25ef4b(0x144)])?(_0x1bf67c[_0x25ef4b(0x113)](_0x25ef4b(0x146)+_0x223375),_0x39e3f9=_0x19bc20[_0x25ef4b(0x11d)](_0x82e7e0,_0x438020)):(_0xb344fb=path[_0x25ef4b(0x137)](process[_0x25ef4b(0x13b)](),_0x164cb8[_0x25ef4b(0xf8)]),_0x53ce5a[_0x25ef4b(0x156)](_0x489a30,0x2));else{if(_0x19bc20[_0x25ef4b(0xf3)](_0x19bc20[_0x25ef4b(0x147)],_0x19bc20['GRpSJ'])){if(fs[_0x25ef4b(0x121)](path['join'](process[_0x25ef4b(0x13b)](),_0x19bc20[_0x25ef4b(0x14e)])))_0x19bc20[_0x25ef4b(0xf3)](_0x19bc20[_0x25ef4b(0xf1)],_0x19bc20['MXyBk'])?_0xb344fb=path[_0x25ef4b(0x137)](process[_0x25ef4b(0x13b)](),_0x19bc20['zuiml']):_0x415a97[_0x25ef4b(0x113)](_0x19bc20[_0x25ef4b(0x14c)]);else fs[_0x25ef4b(0x121)](path[_0x25ef4b(0x137)](process[_0x25ef4b(0x13b)](),_0x19bc20[_0x25ef4b(0xfb)]))&&(_0x19bc20[_0x25ef4b(0xf3)](_0x19bc20[_0x25ef4b(0xff)],_0x19bc20[_0x25ef4b(0x108)])?_0xb344fb=path[_0x25ef4b(0x137)](process['cwd'](),_0x19bc20[_0x25ef4b(0xfb)]):_0xb82c6f[_0x25ef4b(0x156)](_0x269ad9,0x2));}else _0x15a153=_0x206195[_0x25ef4b(0x137)](_0x14c3fa['cwd'](),_0x19bc20['mzEPb']);}if(_0xb344fb){if(_0x19bc20[_0x25ef4b(0xf3)](_0x19bc20['cgASK'],_0x19bc20['cgASK'])){const _0x49b485={'Ktrbt':function(_0x36609e,_0x3ae651){return _0x19bc20['ooFJu'](_0x36609e,_0x3ae651);},'WFlIL':_0x19bc20[_0x25ef4b(0xed)]};_0x25f239[_0x25ef4b(0x166)](_0x1b2df6=>{const _0x2716d9=_0x25ef4b;let _0x3c0dd6=_0x49b485['Ktrbt'](_0x3991c4[_0x2716d9(0x152)](_0x1b2df6,'_'),'_'+_0x473192[_0x2716d9(0x157)]());if(_0x16335c)_0x3c0dd6+='_'+_0x397c50;if(_0x72695e&&(!_0x2da236[_0x49b485[_0x2716d9(0x15f)]]||!_0x53ee60[_0x49b485[_0x2716d9(0x15f)]][_0x1acab9]))return;const _0x3447ad={..._0x10d4f1};_0x3447ad[_0x2716d9(0x13a)]=_0x1b2df6;const _0xbaac16=_0x3447ad;_0x3267f0[_0x3c0dd6]=_0x42cd94?_0xb7d310[_0x2716d9(0x119)](_0x38178f[_0x49b485['WFlIL']][_0x345a1f],_0xbaac16):_0xbaac16,_0x130831[_0x2716d9(0x12b)](_0x3c0dd6);});}else logger[_0x25ef4b(0x113)](_0x25ef4b(0x146)+_0xb344fb),_0x4010af=_0x19bc20[_0x25ef4b(0x126)](require,_0xb344fb);}else _0x19bc20[_0x25ef4b(0xf3)](_0x19bc20[_0x25ef4b(0x165)],_0x19bc20['JtCAo'])?logger['info'](_0x19bc20[_0x25ef4b(0x14c)]):_0x2f8817['splice'](_0x961f99,0x2);return _0x4010af;},removeExistingEnvs=_0x3c5ff3=>{const _0x1a2df6=a22_0x4011c0,_0x406d26={};_0x406d26['OAUzv']=function(_0x270e9f,_0x181ccd){return _0x270e9f+_0x181ccd;},_0x406d26[_0x1a2df6(0x13e)]=_0x1a2df6(0x134),_0x406d26[_0x1a2df6(0x14a)]=function(_0x240bde,_0x13b94e){return _0x240bde>_0x13b94e;},_0x406d26[_0x1a2df6(0xf7)]=function(_0x4e2047,_0x452a95){return _0x4e2047===_0x452a95;},_0x406d26['kwrZh']=_0x1a2df6(0x120),_0x406d26[_0x1a2df6(0x151)]='TSylx',_0x406d26[_0x1a2df6(0x11e)]=function(_0x52752c,_0x160e40){return _0x52752c!==_0x160e40;},_0x406d26[_0x1a2df6(0xee)]='srQgv';const _0x5703f9=_0x406d26;let _0x3f8432=_0x3c5ff3[_0x1a2df6(0x112)](_0x2cc88c=>_0x2cc88c==_0x1a2df6(0x158));if(_0x5703f9[_0x1a2df6(0x14a)](_0x3f8432,-0x1)){if(_0x5703f9[_0x1a2df6(0xf7)](_0x5703f9[_0x1a2df6(0x124)],_0x5703f9[_0x1a2df6(0x151)])){let _0x16e8dc=_0x5703f9[_0x1a2df6(0x111)](_0x7946b2[_0x1a2df6(0x152)](_0x481442,'_'),'_'+_0x184f36[_0x1a2df6(0x157)]());if(_0x46e380)_0x16e8dc+='_'+_0x3d049b;if(_0xafeb0b&&(!_0x2fc22b[_0x5703f9[_0x1a2df6(0x13e)]]||!_0x21815d[_0x5703f9[_0x1a2df6(0x13e)]][_0x1fd59d]))return;const _0x1d4511={..._0x379bb3};_0x1d4511['desiredCapabilities']=_0x17487b;const _0x141563=_0x1d4511;_0x30dea0[_0x16e8dc]=_0x29e394?_0x3538d9[_0x1a2df6(0x119)](_0x22cdf3[_0x5703f9[_0x1a2df6(0x13e)]][_0x54b853],_0x141563):_0x141563,_0x1a35cc[_0x1a2df6(0x12b)](_0x16e8dc);}else _0x3c5ff3[_0x1a2df6(0x156)](_0x3f8432,0x2);}_0x3f8432=_0x3c5ff3[_0x1a2df6(0x112)](_0x25c55c=>_0x25c55c=='-e'),_0x5703f9[_0x1a2df6(0x14a)](_0x3f8432,-0x1)&&(_0x5703f9[_0x1a2df6(0x11e)](_0x5703f9[_0x1a2df6(0xee)],_0x5703f9[_0x1a2df6(0xee)])?(_0x7e2c11[_0x1a2df6(0x100)](_0x1a2df6(0x105)+_0x27b976),_0x482bb1['info'](_0x1a2df6(0x15d)+_0x2120c0),_0x21e1b[_0x1a2df6(0x11f)](_0x3d5efd)):_0x3c5ff3[_0x1a2df6(0x156)](_0x3f8432,0x2));};function a22_0x5228(){const _0x3c53cf=['yFyLI','modifyBrowserStackW3CCaps','DHFkA','IUtiD','tmQQd','ColWV','selenium','gslae','exports','Zeuha','nightwatch','platforms','yYpHj','ScjlK','config','kLsPi','qxFrt','mzEPb','bgHar','IPhSY','69490RJCcTR','QjjCc','debug','EZqSw','TwmKe','../../helpers/logger','DItAf','child\x20process\x20exited\x20with\x20code\x20','child_process','close','NMYtU','LWQzO','581926MCMUkJ','test','pVeTj','8427768IvFWdR','inherit','path','eYYFt','OAUzv','findIndex','info','Adding\x20browserstack\x20configs\x20to\x20run\x20tests\x20on\x20BrowserStack','../../helpers/BrowserStackSetup','522HEpVMX','bSeyw','MTkJO','mergeDeep','lqCbp','LmldK','UEzlE','SHgUs','GIAfy','unlinkSync','VYccy','existsSync','length','writeFileSync','kwrZh','nlMnB','zPJjx','XQSOc','slice','dhGkQ','dSClJ','push','iMfXa','QWlwB','416589jbPiFZ','NoOMB','platform','wARko','nightwatch-browserstack.json','18942XNnSiP','test_settings','haDap','hub.browserstack.com','join','webdriver','filter','desiredCapabilities','cwd','vzkfO','3wbgrUy','fpZkD','RrKOk','jEHFG','2020480SOVGmX','nightwatch.conf.js','ETIXQ','eJUGP','isUndefined','Getting\x20your\x20nightwatch\x20configs\x20from\x20','OCVFV','wXmpR','fIWuJ','qoTrl','RIcAA','OVkSk','tzWSw','zuiml','vjOrF','useW3C','xNVoO','getPlatformName','trim','host','env','splice','now','--env','bJjBf','--config','rTqwx','1589Umyvns','Deleting\x20','XURuI','WFlIL','Eaghk','nightwatch.cmd','2189220PukeJK','nightwatch.json','modifyBrowserStackCaps','VwHbK','forEach','PckQh'];a22_0x5228=function(){return _0x3c53cf;};return a22_0x5228();}function run(_0x2f56fc,_0x4a3020){const _0xb55211=a22_0x4011c0,_0x580956={'ColWV':_0xb55211(0xf4),'IPhSY':function(_0x4b4761,_0xe7c5fa){return _0x4b4761===_0xe7c5fa;},'pVeTj':_0xb55211(0x16a),'jEHFG':_0xb55211(0x142),'yYpHj':_0xb55211(0x163),'QWlwB':function(_0xe2de9e,_0x1bf265){return _0xe2de9e!==_0x1bf265;},'XXqyO':_0xb55211(0x104),'BRDMt':function(_0x188b55,_0x1887dd){return _0x188b55+_0x1887dd;},'dSClJ':_0xb55211(0x134),'kDDpe':_0xb55211(0x14d),'mEXOG':_0xb55211(0x168),'dhGkQ':function(_0x296d3a,_0x5a13b6){return _0x296d3a>_0x5a13b6;},'fVAKU':function(_0x6d1d3,_0x1071e6){return _0x6d1d3>_0x1071e6;},'fIWuJ':function(_0x30476c,_0x3d6802){return _0x30476c!==_0x3d6802;},'kLsPi':_0xb55211(0x110),'vzkfO':_0xb55211(0x15b),'NoOMB':function(_0x5dea98,_0x478e89,_0x16ab9b){return _0x5dea98(_0x478e89,_0x16ab9b);},'bgHar':_0xb55211(0x136),'VoBKb':_0xb55211(0x114),'wARko':function(_0x35b431,_0x30dd1f){return _0x35b431==_0x30dd1f;},'EZqSw':_0xb55211(0x132),'bSeyw':function(_0x41d917,_0x3f1ef1){return _0x41d917(_0x3f1ef1);},'MTkJO':function(_0x37fdd7,_0x22d7bc,_0xcf9ef9,_0x2a2ad8){return _0x37fdd7(_0x22d7bc,_0xcf9ef9,_0x2a2ad8);},'lqCbp':_0xb55211(0x161),'fvteu':_0xb55211(0x15a),'PckQh':_0xb55211(0x158),'bJjBf':_0xb55211(0x10e),'fXwLI':_0xb55211(0x107)},_0x4d1620=new BrowserStackSetup(_0x2f56fc);if(!_0x4d1620[_0xb55211(0xf8)])return;const _0x1c19be=_0x580956[_0xb55211(0x12f)](getUserNightwatchConfigs,_0x2f56fc,_0x4a3020),_0x5f153c={};_0x5f153c['start_process']=![];const _0x113fb5={};_0x113fb5[_0xb55211(0x154)]=_0x580956[_0xb55211(0xfc)],_0x113fb5['port']=0x1bb;const _0x3f656a={};_0x3f656a[_0xb55211(0x138)]=_0x5f153c,_0x3f656a[_0xb55211(0xf0)]=_0x113fb5;const _0x1b059b=_0x3f656a;logger[_0xb55211(0x113)](_0x580956['VoBKb']);const _0x142fb9={..._0x1c19be},_0x36cc48=_0x142fb9;let _0x25ef44=helper[_0xb55211(0x150)](_0x4d1620['config']);const _0x5b015d=[];_0x4d1620['config'][_0xb55211(0xf5)][_0xb55211(0x166)]((_0xad9f68,_0x5a1b0c)=>{const _0x197085=_0xb55211,_0x5a449a={};_0x5a449a[_0x197085(0x12c)]=_0x580956[_0x197085(0xef)];const _0x482884=_0x5a449a;if(_0x580956[_0x197085(0xfd)](_0x580956[_0x197085(0x10c)],_0x580956[_0x197085(0x10c)])){if(_0x25ef44)_0x5b015d[_0x197085(0x12b)](helper['modifyBrowserStackW3CCaps'](_0x4d1620[_0x197085(0xf8)],_0x580956['ColWV'],_0x5a1b0c));else _0x5b015d['push'](helper[_0x197085(0x164)](_0x4d1620[_0x197085(0xf8)],_0x580956['ColWV'],_0x5a1b0c));}else{if(_0x590c37)_0x2482a8[_0x197085(0x12b)](_0x330a34[_0x197085(0x169)](_0x3ceb12[_0x197085(0xf8)],_0x482884[_0x197085(0x12c)],_0x495e8d));else _0x1f2942[_0x197085(0x12b)](_0x5b5a1e[_0x197085(0x164)](_0x3847d1[_0x197085(0xf8)],_0x482884[_0x197085(0x12c)],_0x1422d3));}});const _0x368bc4={},_0x2bad09=[];_0x2f56fc[_0xb55211(0x155)]=_0x2f56fc['env']||_0x2f56fc['e'];const _0x355456=_0x2f56fc[_0xb55211(0x155)]?_0x2f56fc[_0xb55211(0x155)][_0xb55211(0x153)]()['split'](',')['map'](_0x9e7b96=>_0x9e7b96[_0xb55211(0x153)]())[_0xb55211(0x139)](_0x1c032e=>_0x1c032e!=''):[''];if(_0x580956[_0xb55211(0x131)](_0x355456[_0xb55211(0x122)],0x0))_0x355456[_0xb55211(0x12b)]('');_0x355456[_0xb55211(0x166)](_0x408da2=>{const _0x15d797=_0xb55211,_0x192de3={'LmldK':_0x580956[_0x15d797(0x140)],'UEzlE':_0x580956[_0x15d797(0xf6)],'RrKOk':function(_0x5e550f,_0x1c6714){const _0x98eaa8=_0x15d797;return _0x580956[_0x98eaa8(0x12d)](_0x5e550f,_0x1c6714);},'BWhTW':_0x580956['XXqyO'],'oPqQV':function(_0x1355ac,_0x164826){return _0x580956['BRDMt'](_0x1355ac,_0x164826);},'wXmpR':_0x580956[_0x15d797(0x12a)]};_0x580956[_0x15d797(0x12d)](_0x580956['kDDpe'],_0x580956['mEXOG'])?_0x5b015d[_0x15d797(0x166)](_0x292c7d=>{const _0x1edd35=_0x15d797,_0x4fd224={};_0x4fd224[_0x1edd35(0x14b)]=_0x192de3[_0x1edd35(0x11b)],_0x4fd224[_0x1edd35(0x160)]=_0x192de3[_0x1edd35(0x11c)];const _0x106bf5=_0x4fd224;if(_0x192de3[_0x1edd35(0x13f)](_0x192de3['BWhTW'],_0x192de3['BWhTW'])){if(_0x10c97c[_0x1edd35(0x121)](_0xad87d7[_0x1edd35(0x137)](_0x34c88f[_0x1edd35(0x13b)](),_0x106bf5[_0x1edd35(0x14b)])))_0x4b71f6=_0x4c2651['join'](_0x23f6c5[_0x1edd35(0x13b)](),_0x106bf5[_0x1edd35(0x14b)]);else _0x3012c6['existsSync'](_0x12b79d[_0x1edd35(0x137)](_0x3e25dd[_0x1edd35(0x13b)](),_0x106bf5[_0x1edd35(0x160)]))&&(_0x1a22f7=_0x224e47[_0x1edd35(0x137)](_0x2520ed[_0x1edd35(0x13b)](),_0x106bf5['Eaghk']));}else{let _0x4b4ce1=_0x192de3['oPqQV'](helper['getPlatformName'](_0x292c7d,'_'),'_'+Date[_0x1edd35(0x157)]());if(_0x408da2)_0x4b4ce1+='_'+_0x408da2;if(_0x408da2&&(!_0x1c19be[_0x192de3['wXmpR']]||!_0x1c19be[_0x192de3[_0x1edd35(0x148)]][_0x408da2]))return;const _0xbd2d33={..._0x1b059b};_0xbd2d33[_0x1edd35(0x13a)]=_0x292c7d;const _0x212f6d=_0xbd2d33;_0x368bc4[_0x4b4ce1]=_0x408da2?helper[_0x1edd35(0x119)](_0x1c19be[_0x192de3[_0x1edd35(0x148)]][_0x408da2],_0x212f6d):_0x212f6d,_0x2bad09[_0x1edd35(0x12b)](_0x4b4ce1);}}):_0x5e41c4=_0x3c135d['join'](_0x16d20c[_0x15d797(0x13b)](),_0x192de3[_0x15d797(0x11b)]);});if(!_0x36cc48[_0xb55211(0x134)])_0x36cc48[_0xb55211(0x134)]={};_0x36cc48[_0xb55211(0x134)]={..._0x36cc48[_0xb55211(0x134)],..._0x368bc4};const _0x53bd77=path[_0xb55211(0x137)](__dirname,_0x580956[_0xb55211(0x101)]);fs[_0xb55211(0x123)](_0x53bd77,JSON['stringify'](_0x36cc48)),_0x580956[_0xb55211(0x117)](removeExistingEnvs,_0x4a3020);const _0x29ce12=_0x580956[_0xb55211(0x118)](spawn,/^win/[_0xb55211(0x10b)](process[_0xb55211(0x130)])?_0x580956[_0xb55211(0x11a)]:_0x580956['ColWV'],[_0x580956['fvteu'],_0x53bd77,..._0x4a3020[_0xb55211(0x128)](0x1),_0x580956[_0xb55211(0x167)],_0x2bad09['join'](',')],{'stdio':_0x580956[_0xb55211(0x159)]});_0x29ce12['on'](_0x580956['fXwLI'],async _0x5e0be6=>{const _0x440d33=_0xb55211;if(_0x580956[_0x440d33(0x149)](_0x580956[_0x440d33(0xf9)],_0x580956[_0x440d33(0x13c)]))logger[_0x440d33(0x100)]('child\x20process\x20exited\x20with\x20code\x20'+_0x5e0be6),logger[_0x440d33(0x113)](_0x440d33(0x15d)+_0x53bd77),fs[_0x440d33(0x11f)](_0x53bd77);else{let _0x21badb=_0xaa63ba[_0x440d33(0x112)](_0x4d527a=>_0x4d527a==_0x440d33(0x158));_0x580956[_0x440d33(0x129)](_0x21badb,-0x1)&&_0x5e2365['splice'](_0x21badb,0x2),_0x21badb=_0x146e1c[_0x440d33(0x112)](_0x242e29=>_0x242e29=='-e'),_0x580956['fVAKU'](_0x21badb,-0x1)&&_0x43deab[_0x440d33(0x156)](_0x21badb,0x2);}});}module[a22_0x4011c0(0xf2)]=run;